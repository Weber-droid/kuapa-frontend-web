(()=>{var e={};e.id=398,e.ids=[398],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},5448:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>d,routeModule:()=>m,tree:()=>o}),a(9866),a(5732),a(5866);var r=a(3191),s=a(8716),l=a(7922),n=a.n(l),i=a(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);a.d(t,c);let o=["",{children:["scan",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9866)),"/home/weber/Development/Dev/kuapa-frontend-web/src/app/scan/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(a.bind(a,5732)),"/home/weber/Development/Dev/kuapa-frontend-web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],d=["/home/weber/Development/Dev/kuapa-frontend-web/src/app/scan/page.tsx"],h="/scan/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/scan/page",pathname:"/scan",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7456:(e,t,a)=>{Promise.resolve().then(a.bind(a,7140))},2933:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(5578).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},3080:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(5578).Z)("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]])},7140:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var r=a(326),s=a(7577),l=a(5047),n=a(5578);let i=(0,n.Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var c=a(1896);let o=(0,n.Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var d=a(3080);let h=(0,n.Z)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),u=(0,n.Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var m=a(1664),p=a(9752);let x=(0,n.Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g=(0,n.Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),f=(0,n.Z)("zap-off",[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),b=(0,n.Z)("switch-camera",[["path",{d:"M11 19H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5",key:"mtk2lu"}],["path",{d:"M13 5h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5",key:"120jsl"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m18 22-3-3 3-3",key:"kgdoj7"}],["path",{d:"m6 2 3 3-3 3",key:"1fnbkv"}]]),y=(0,n.Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var w=a(1867);function v({onCapture:e,onClose:t}){let a=(0,s.useRef)(null),l=(0,s.useRef)(null),n=(0,s.useRef)(null),i=(0,s.useRef)(null),[o,d]=(0,s.useState)(!1),[h,u]=(0,s.useState)("environment"),[p,v]=(0,s.useState)(!1),[j,k]=(0,s.useState)(!1),[N,C]=(0,s.useState)(null),[S,M]=(0,s.useState)(!1),D=(0,s.useCallback)(async()=>{try{C(null),n.current&&n.current.getTracks().forEach(e=>e.stop());let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:h,width:{ideal:1920},height:{ideal:1080}},audio:!1});n.current=e,a.current&&(a.current.srcObject=e,await a.current.play(),d(!0));let t=e.getVideoTracks()[0],r=t.getCapabilities?.();k(!!r?.torch)}catch(e){console.error("Camera error:",e),e instanceof Error&&("NotAllowedError"===e.name?C("Camera access denied. Please enable camera permissions in your browser settings."):"NotFoundError"===e.name?C("No camera found on this device."):C("Unable to access camera. Please try again."))}},[h]),P=(0,s.useCallback)(()=>{n.current&&(n.current.getTracks().forEach(e=>e.stop()),n.current=null),d(!1)},[]),z=(0,s.useCallback)(async()=>{if(!n.current||!j)return;let e=n.current.getVideoTracks()[0];try{await e.applyConstraints({advanced:[{torch:!p}]}),v(!p)}catch(e){console.error("Flash toggle error:",e)}},[p,j]),R=(0,s.useCallback)(()=>{u(e=>"user"===e?"environment":"user")},[]),E=(0,s.useCallback)(()=>{if(!a.current||!l.current||!o)return;M(!0);let t=a.current,r=l.current;r.width=t.videoWidth,r.height=t.videoHeight;let s=r.getContext("2d");if(!s)return;s.drawImage(t,0,0);let n=r.toDataURL("image/jpeg",.9);P(),e(n),M(!1)},[o,e,P]),q=(0,s.useCallback)(t=>{let a=t.target.files?.[0];if(!a)return;let r=new FileReader;r.onload=t=>{let a=t.target?.result;P(),e(a)},r.readAsDataURL(a)},[e,P]);return r.jsx("div",{className:"fixed inset-0 z-50 bg-black",children:(0,r.jsxs)("div",{className:"relative h-full w-full",children:[r.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:(0,w.cn)("h-full w-full object-cover","user"===h&&"scale-x-[-1]")}),r.jsx("canvas",{ref:l,className:"hidden"}),N&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-danger-500/20",children:r.jsx(c.Z,{className:"h-8 w-8 text-danger-500"})}),r.jsx("p",{className:"text-white",children:N}),(0,r.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[r.jsx(m.z,{variant:"secondary",onClick:t,children:"Cancel"}),r.jsx(m.z,{onClick:D,children:"Try Again"})]})]})}),!o&&!N&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 animate-spin rounded-full border-4 border-primary-500 border-t-transparent"}),r.jsx("p",{className:"mt-4 text-white",children:"Starting camera..."})]})}),o&&r.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"relative aspect-square w-full max-w-sm",children:[r.jsx("div",{className:"absolute left-0 top-0 h-8 w-8 border-l-4 border-t-4 border-white/60"}),r.jsx("div",{className:"absolute right-0 top-0 h-8 w-8 border-r-4 border-t-4 border-white/60"}),r.jsx("div",{className:"absolute bottom-0 left-0 h-8 w-8 border-b-4 border-l-4 border-white/60"}),r.jsx("div",{className:"absolute bottom-0 right-0 h-8 w-8 border-b-4 border-r-4 border-white/60"}),r.jsx("div",{className:"absolute inset-0 overflow-hidden",children:r.jsx("div",{className:"animate-scan h-0.5 w-full bg-gradient-to-r from-transparent via-primary-500 to-transparent"})})]})}),(0,r.jsxs)("div",{className:"absolute left-0 right-0 top-0 flex items-center justify-between p-4 safe-top",children:[r.jsx("button",{onClick:t,className:"flex h-10 w-10 items-center justify-center rounded-full bg-black/50 text-white",children:r.jsx(x,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[j&&r.jsx("button",{onClick:z,className:(0,w.cn)("flex h-10 w-10 items-center justify-center rounded-full",p?"bg-yellow-500 text-black":"bg-black/50 text-white"),children:p?r.jsx(g,{className:"h-5 w-5"}):r.jsx(f,{className:"h-5 w-5"})}),r.jsx("button",{onClick:R,className:"flex h-10 w-10 items-center justify-center rounded-full bg-black/50 text-white",children:r.jsx(b,{className:"h-5 w-5"})})]})]}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 safe-bottom",children:[r.jsx("p",{className:"mb-4 text-center text-sm text-white/80",children:"Position the affected crop area within the frame"}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-8",children:[r.jsx("button",{onClick:()=>i.current?.click(),className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/20 text-white",children:r.jsx(y,{className:"h-6 w-6"})}),r.jsx("input",{ref:i,type:"file",accept:"image/*",capture:"environment",onChange:q,className:"hidden"}),r.jsx("button",{onClick:E,disabled:!o||S,className:(0,w.cn)("flex h-20 w-20 items-center justify-center rounded-full border-4 border-white","transition-transform active:scale-95",S&&"animate-pulse"),children:r.jsx("div",{className:"h-16 w-16 rounded-full bg-white"})}),r.jsx("div",{className:"h-12 w-12"})]})]})]})})}var j=a(5342),k=a(2933);let N={cocoa:"\uD83C\uDF6B",cassava:"\uD83E\uDD54",maize:"\uD83C\uDF3D",plantain:"\uD83C\uDF4C",rice:"\uD83C\uDF3E",tomato:"\uD83C\uDF45",pepper:"\uD83C\uDF36️",other:"\uD83C\uDF3F"};function C({selectedCrop:e,onSelect:t,className:a}){let s=Object.entries(j.j);return r.jsx("div",{className:(0,w.cn)("grid grid-cols-4 gap-2",a),children:s.map(([a,s])=>(0,r.jsxs)("button",{onClick:()=>t(a),className:(0,w.cn)("relative flex flex-col items-center gap-1 rounded-xl p-3 transition-all",e===a?"bg-primary-500 text-white shadow-md":"bg-white text-slate-600 shadow-card hover:bg-slate-50 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700"),children:[r.jsx("span",{className:"text-2xl",children:N[a]}),r.jsx("span",{className:"text-xs font-medium",children:s}),e===a&&r.jsx("div",{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-white shadow",children:r.jsx(k.Z,{className:"h-3 w-3 text-primary-500"})})]},a))})}function S({progress:e,stage:t}){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-6",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-primary-400 opacity-20"}),r.jsx("div",{className:"relative flex h-24 w-24 items-center justify-center rounded-full bg-primary-500",children:r.jsx("svg",{className:"h-12 w-12 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),void 0!==e&&r.jsx("div",{className:"w-48",children:r.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-700",children:r.jsx("div",{className:"h-full rounded-full bg-primary-500 transition-all duration-300",style:{width:`${e}%`}})})}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:t}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Please wait while we analyze your crop"})]})]})}var M=a(6796);let D={maxWidth:1920,maxHeight:1920,quality:.8,format:"jpeg"},P=async(e,t={})=>{let a={...D,...t};return new Promise((t,r)=>{let s=new Image,l=URL.createObjectURL(e);s.onload=()=>{URL.revokeObjectURL(l);let{width:e,height:n}=s,i=e/n;e>a.maxWidth&&(n=(e=a.maxWidth)/i),n>a.maxHeight&&(e=(n=a.maxHeight)*i);let c=document.createElement("canvas");c.width=e,c.height=n;let o=c.getContext("2d");if(!o){r(Error("Could not get canvas context"));return}o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(s,0,0,e,n);let d="webp"===a.format?"image/webp":"image/jpeg";c.toBlob(e=>{e?t(e):r(Error("Could not compress image"))},d,a.quality)},s.onerror=()=>{URL.revokeObjectURL(l),r(Error("Could not load image"))},s.src=l})},z=e=>new Promise((t,a)=>{let r=new FileReader;r.onload=()=>t(r.result),r.onerror=a,r.readAsDataURL(e)}),R=async e=>(await fetch(e)).blob();function E(){let e=(0,l.useRouter)(),{startScan:t,isScanning:a}=(0,M.rG)(),[n,x]=(0,s.useState)("select"),[g,f]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[j,k]=(0,s.useState)("Initializing..."),[N,D]=(0,s.useState)(null),E=(0,s.useCallback)(async e=>{try{let t=await R(e),a=await P(t,{maxWidth:1280,maxHeight:1280,quality:.85}),r=await z(a);y(r),x("preview")}catch(t){console.error("Image compression error:",t),y(e),x("preview")}},[]),q=(0,s.useCallback)(async e=>{let t=e.target.files?.[0];if(t)try{let e=await P(t,{maxWidth:1280,maxHeight:1280,quality:.85}),a=await z(e);y(a),x("preview")}catch(e){console.error("Upload error:",e)}},[]),I=(0,s.useCallback)(async()=>{if(!b||!g)return;x("scanning"),D(null);let a=["Analyzing image...","Detecting patterns...","Identifying disease...","Generating recommendations..."];try{for(let e=0;e<a.length;e++)k(a[e]),await new Promise(e=>setTimeout(e,500));let r=await t(b,g);e.push(`/scan/${r.id}`)}catch(e){console.error("Scan error:",e),D(e instanceof Error?e.message:"Scan failed. Please try again."),x("error")}},[b,g,t,e]),Z=(0,s.useCallback)(()=>{y(null),f(null),D(null),x("select")},[]),A=(0,s.useCallback)(()=>{y(null),x("camera")},[]);return"camera"===n?r.jsx(v,{onCapture:E,onClose:()=>x("select")}):"scanning"===n?r.jsx("div",{className:"flex min-h-[80vh] items-center justify-center p-6",children:r.jsx(S,{stage:j})}):"error"===n?r.jsx("div",{className:"page-content",children:(0,r.jsxs)("div",{className:"flex min-h-[60vh] flex-col items-center justify-center text-center",children:[r.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-danger-100 dark:bg-danger-900/30",children:r.jsx(i,{className:"h-10 w-10 text-danger-500"})}),r.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-900 dark:text-white",children:"Scan Failed"}),r.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:N||"Something went wrong. Please try again."}),(0,r.jsxs)("div",{className:"mt-6 flex gap-3",children:[r.jsx(m.z,{variant:"secondary",onClick:Z,children:"Start Over"}),r.jsx(m.z,{onClick:()=>x("preview"),children:"Try Again"})]})]})}):(0,r.jsxs)("div",{className:"page-content space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["select"===n&&"Scan Your Crop","preview"===n&&"Review Image"]}),(0,r.jsxs)("p",{className:"mt-1 text-slate-500 dark:text-slate-400",children:["select"===n&&"Select your crop type and take a photo","preview"===n&&"Confirm the image looks clear"]})]}),"select"===n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p.Zb,{className:"p-4",children:[r.jsx("h2",{className:"mb-3 font-semibold text-slate-900 dark:text-white",children:"What crop are you scanning?"}),r.jsx(C,{selectedCrop:g,onSelect:f})]}),(0,r.jsxs)(p.Zb,{className:"p-4",children:[r.jsx("h2",{className:"mb-3 font-semibold text-slate-900 dark:text-white",children:"Capture Image"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(m.z,{variant:"primary",size:"lg",className:"h-auto flex-col gap-2 py-6",onClick:()=>x("camera"),disabled:!g,leftIcon:r.jsx(c.Z,{className:"h-6 w-6"}),children:r.jsx("span",{children:"Take Photo"})}),(0,r.jsxs)("label",{className:(0,w.cn)("btn btn-secondary flex h-auto cursor-pointer flex-col gap-2 py-6",!g&&"opacity-50 cursor-not-allowed"),children:[r.jsx(o,{className:"h-6 w-6"}),r.jsx("span",{children:"Upload Image"}),r.jsx("input",{type:"file",accept:"image/*",onChange:q,disabled:!g,className:"hidden"})]})]})]}),r.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-700 dark:bg-slate-800",children:(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary-100 dark:bg-primary-900/30",children:r.jsx(d.Z,{className:"h-4 w-4 text-primary-600 dark:text-primary-400"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-slate-900 dark:text-white",children:"Tips for best results"}),(0,r.jsxs)("ul",{className:"mt-2 space-y-1 text-sm text-slate-500 dark:text-slate-400",children:[r.jsx("li",{children:"• Use natural daylight if possible"}),r.jsx("li",{children:"• Focus on the affected area"}),r.jsx("li",{children:"• Keep the camera steady"}),r.jsx("li",{children:"• Include both healthy and affected parts"})]})]})]})})]}),"preview"===n&&b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-slate-100 dark:bg-slate-800",children:[r.jsx("img",{src:b,alt:"Captured crop",className:"aspect-square w-full object-cover"}),(0,r.jsxs)("button",{onClick:A,className:"absolute bottom-3 right-3 flex items-center gap-2 rounded-full bg-black/50 px-3 py-2 text-sm font-medium text-white backdrop-blur",children:[r.jsx(h,{className:"h-4 w-4"}),"Retake"]})]}),g&&r.jsx(p.Zb,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Crop type"}),r.jsx("p",{className:"font-semibold capitalize text-slate-900 dark:text-white",children:g})]}),r.jsx(m.z,{variant:"ghost",size:"sm",onClick:()=>x("select"),children:"Change"})]})}),r.jsx(m.z,{size:"lg",className:"w-full",onClick:I,disabled:a,rightIcon:r.jsx(u,{className:"h-5 w-5"}),children:"Analyze for Diseases"})]})]})}},9752:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>i,Zb:()=>n,aY:()=>o,ll:()=>c});var r=a(326),s=a(7577),l=a(1867);let n=s.forwardRef(({className:e,variant:t="default",...a},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("rounded-xl p-4",{default:"bg-white dark:bg-slate-800 shadow-card",bordered:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",elevated:"bg-white dark:bg-slate-800 shadow-soft"}[t],e),...a}));n.displayName="Card";let i=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("mb-4",e),...t}));i.displayName="CardHeader";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,l.cn)("text-lg font-semibold text-slate-900 dark:text-white",e),...t}));c.displayName="CardTitle",s.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,l.cn)("text-sm text-slate-500 dark:text-slate-400",e),...t})).displayName="CardDescription";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("",e),...t}));o.displayName="CardContent",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("mt-4 flex items-center",e),...t})).displayName="CardFooter"},6796:(e,t,a)=>{"use strict";a.d(t,{rG:()=>p});var r=a(8408),s=a(5251),l=a(4679);let n="app-state",i=(0,l.X3)("kuapa-db",1,{upgrade(e){e.objectStoreNames.contains(n)||e.createObjectStore(n)}}),c={getItem:async e=>{try{return await (await i).get(n,e)||null}catch(e){return console.error("Error getting item from IndexedDB:",e),null}},setItem:async(e,t)=>{try{await (await i).put(n,t,e)}catch(e){console.error("Error setting item in IndexedDB:",e)}},removeItem:async e=>{try{await (await i).delete(n,e)}catch(e){console.error("Error removing item from IndexedDB:",e)}}};var o=a(1597);let d=async(e,t)=>{await h();let a=(0,o.Ft)(t),r=Math.random()>.3,s=null,l=0,n=[];return!r&&a.length>0?(s=a[Math.floor(Math.random()*a.length)],l=Math.floor(23*Math.random())+75,n=u(s)):(l=Math.floor(15*Math.random())+85,n=m(t)),{id:`scan_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:"current_user",imageUrl:e,thumbnailUrl:e,cropType:t,detectedDisease:s,confidence:l,isHealthy:r,recommendations:n,createdAt:new Date().toISOString()}},h=()=>new Promise(e=>{setTimeout(e,1500+1500*Math.random())}),u=e=>{let t=[];return"critical"===e.severity?t.push("URGENT: Immediate action required to prevent spread"):"high"===e.severity&&t.push("Take action within the next few days"),e.treatment.cultural.length>0&&t.push(e.treatment.cultural[0]),e.treatment.organic.length>0&&t.push(e.treatment.organic[0]),e.prevention.length>0&&t.push(`Prevention: ${e.prevention[0]}`),("critical"===e.severity||"high"===e.severity)&&t.push("Consult with local agricultural extension officer for detailed guidance"),t},m=e=>{let t={cocoa:["Your cocoa plant looks healthy! Continue regular monitoring","Maintain proper pruning to ensure good air circulation","Apply balanced fertilizer during the growing season","Remove any debris around the tree base"],cassava:["Your cassava plant appears healthy! Keep up the good work","Continue weeding to reduce pest habitat","Monitor for whiteflies regularly","Ensure proper spacing for next planting"],maize:["Your maize crop looks healthy! Continue current practices","Monitor for signs of streak virus as plants grow","Apply nitrogen fertilizer at knee-high stage if needed","Scout for stem borers regularly"],plantain:["Your plantain looks healthy! Maintain current care","Continue regular de-suckering practices","Apply mulch around the base","Monitor older leaves for early disease signs"],rice:["Your rice crop appears healthy","Maintain proper water levels","Monitor for blast disease symptoms","Apply fertilizer according to growth stage"],tomato:["Your tomato plant looks healthy","Stake plants for better support","Water at the base to prevent leaf diseases","Remove lower leaves as fruits develop"],pepper:["Your pepper plant appears healthy","Ensure consistent watering","Monitor for aphids and whiteflies","Apply mulch to retain moisture"],other:["Your crop appears healthy","Continue regular monitoring","Maintain good agricultural practices","Consult extension services for specific advice"]};return t[e]||t.other},p=(0,r.U)()((0,s.tJ)((e,t)=>({currentScan:null,history:[],isScanning:!1,error:null,startScan:async(a,r)=>{e({isScanning:!0,error:null,currentScan:null});try{let s=await d(a,r);return e({currentScan:s,isScanning:!1}),t().addScanToHistory(s),s}catch(t){throw e({isScanning:!1,error:t instanceof Error?t.message:"Scan failed"}),t}},addScanToHistory:t=>{e(e=>({history:[t,...e.history].slice(0,100)}))},removeScan:t=>{e(e=>({history:e.history.filter(e=>e.id!==t),currentScan:e.currentScan?.id===t?null:e.currentScan}))},clearHistory:()=>{e({history:[],currentScan:null})},getScanById:e=>{let{history:a}=t();return a.find(t=>t.id===e)},setError:t=>{e({error:t})},clearError:()=>{e({error:null})}}),{name:"kuapa-scans",storage:(0,s.FL)(()=>c),partialize:e=>({history:e.history})}))},5342:(e,t,a)=>{"use strict";a.d(t,{j:()=>r});let r={cocoa:"Cocoa",cassava:"Cassava",maize:"Maize",plantain:"Plantain",rice:"Rice",tomato:"Tomato",pepper:"Pepper",other:"Other"}},9866:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`/home/weber/Development/Dev/kuapa-frontend-web/src/app/scan/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,86,621,584,627],()=>a(5448));module.exports=r})();