(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[193],{7506:function(e,t,a){Promise.resolve().then(a.bind(a,157))},4766:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},1671:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1817:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8930:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},6865:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},157:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var r=a(7437),n=a(3011),s=a(6885);let i=(0,n.U)()((0,s.tJ)(e=>({notifications:[{id:"1",type:"info",title:"Welcome to Kuapa",message:"Thanks for joining us! Start scanning your crops to detect diseases.",read:!1,createdAt:new Date().toISOString()},{id:"2",type:"warning",title:"Complete your profile",message:"Add your farm details to get personalized recommendations.",read:!1,createdAt:new Date(Date.now()-864e5).toISOString()}],unreadCount:2,addNotification:t=>{let a={...t,id:Math.random().toString(36).substr(2,9),createdAt:new Date().toISOString(),read:!1};e(e=>({notifications:[a,...e.notifications],unreadCount:e.unreadCount+1}))},markAsRead:t=>{e(e=>{let a=e.notifications.find(e=>e.id===t);return a&&!a.read?{notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e),unreadCount:Math.max(0,e.unreadCount-1)}:e})},markAllAsRead:()=>{e(e=>({notifications:e.notifications.map(e=>({...e,read:!0})),unreadCount:0}))},clearNotifications:()=>{e({notifications:[],unreadCount:0})},removeNotification:t=>{e(e=>{let a=e.notifications.find(e=>e.id===t),r=a&&!a.read;return{notifications:e.notifications.filter(e=>e.id!==t),unreadCount:r?Math.max(0,e.unreadCount-1):e.unreadCount}})}}),{name:"kuapa-notifications",storage:(0,s.FL)(()=>localStorage)}));var l=a(1671),o=a(6865),d=a(8755);let c=(0,d.Z)("octagon-alert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]),u=(0,d.Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var m=a(8930),f=a(4766),h=a(2381),g=a(9820),p=a(1001),x=a(9376);function v(){let e=(0,x.useRouter)(),{notifications:t,markAsRead:a,markAllAsRead:n,clearNotifications:s,removeNotification:d}=i(),v=e=>{switch(e){case"success":return(0,r.jsx)(l.Z,{className:"h-5 w-5 text-success-500"});case"warning":return(0,r.jsx)(o.Z,{className:"h-5 w-5 text-warning-500"});case"error":return(0,r.jsx)(c,{className:"h-5 w-5 text-danger-500"});default:return(0,r.jsx)(u,{className:"h-5 w-5 text-primary-500"})}},y=e=>{let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/1e3);if(a<60)return"Just now";let r=Math.floor(a/60);if(r<60)return"".concat(r,"m ago");let n=Math.floor(r/60);if(n<24)return"".concat(n,"h ago");let s=Math.floor(n/24);return s<7?"".concat(s,"d ago"):t.toLocaleDateString()};return(0,r.jsxs)("div",{className:"page-content space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Notifications"}),(0,r.jsx)("p",{className:"mt-1 text-slate-500 dark:text-slate-400",children:"Updates and alerts for your farm"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[t.some(e=>!e.read)&&(0,r.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>{n()},children:"Mark all read"}),t.length>0&&(0,r.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>{confirm("Are you sure you want to clear all notifications?")&&s()},className:"text-danger-600 hover:bg-danger-50 dark:text-danger-400",children:"Clear all"})]})]}),t.length>0?(0,r.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,r.jsx)(g.Zb,{className:(0,p.cn)("relative transition-colors",!e.read&&"bg-slate-50 border-l-4 border-l-primary-500 dark:bg-slate-800/50"),onClick:()=>a(e.id),children:(0,r.jsxs)("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-start p-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,r.jsx)("div",{className:"mt-1 shrink-0 rounded-full bg-white p-2 shadow-sm dark:bg-slate-800",children:v(e.type)}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,r.jsx)("h3",{className:(0,p.cn)("font-semibold text-slate-900 dark:text-white",!e.read&&"text-primary-600 dark:text-primary-400"),children:e.title}),!e.read&&(0,r.jsx)("span",{className:"block h-2 w-2 rounded-full bg-primary-500 shrink-0 mt-2 sm:hidden"})]}),(0,r.jsx)("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:e.message}),(0,r.jsx)("p",{className:"mt-2 text-xs text-slate-400 dark:text-slate-500",children:y(e.createdAt)})]})]}),(0,r.jsx)("div",{className:"hidden sm:flex flex-col items-end justify-between h-full gap-2 self-start pl-4",children:(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),d(e.id)},className:"p-1 text-slate-400 hover:text-danger-500 transition-colors",children:(0,r.jsx)(m.Z,{className:"h-4 w-4"})})})]})},e.id))}):(0,r.jsxs)("div",{className:"flex min-h-[50vh] flex-col items-center justify-center text-center",children:[(0,r.jsx)("div",{className:"rounded-full bg-slate-100 p-6 dark:bg-slate-800",children:(0,r.jsx)(f.Z,{className:"h-10 w-10 text-slate-400"})}),(0,r.jsx)("h3",{className:"mt-4 text-lg font-semibold text-slate-900 dark:text-white",children:"All caught up!"}),(0,r.jsx)("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"You don't have any new notifications at the moment."}),(0,r.jsx)(h.z,{className:"mt-6",onClick:()=>e.push("/"),children:"Back to Home"})]})]})}},2381:function(e,t,a){"use strict";a.d(t,{z:function(){return l}});var r=a(7437),n=a(2265),s=a(1817),i=a(1001);let l=n.forwardRef((e,t)=>{let{className:a,variant:n="primary",size:l="md",isLoading:o=!1,leftIcon:d,rightIcon:c,children:u,disabled:m,...f}=e;return(0,r.jsxs)("button",{ref:t,className:(0,i.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed","min-w-[44px]",{primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 active:bg-primary-700",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200 focus:ring-slate-500 active:bg-slate-300 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700",outline:"border-2 border-primary-500 text-primary-600 hover:bg-primary-50 focus:ring-primary-500 dark:text-primary-400 dark:hover:bg-primary-950 bg-transparent",ghost:"text-slate-600 hover:bg-slate-100 focus:ring-slate-500 dark:text-slate-400 dark:hover:bg-slate-800 bg-transparent",danger:"bg-danger-500 text-white hover:bg-danger-600 focus:ring-danger-500"}[n],{sm:"px-3 py-2 text-sm min-h-[36px]",md:"px-4 py-2.5 text-base min-h-[44px]",lg:"px-6 py-3 text-lg min-h-[52px]"}[l],a),disabled:m||o,...f,children:[o?(0,r.jsx)(s.Z,{className:"mr-2 h-4 w-4 animate-spin"}):d?(0,r.jsx)("span",{className:"mr-2",children:d}):null,u,c&&!o&&(0,r.jsx)("span",{className:"ml-2",children:c})]})});l.displayName="Button"},9820:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var r=a(7437),n=a(2265),s=a(1001);let i=n.forwardRef((e,t)=>{let{className:a,variant:n="default",...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-xl p-4",{default:"bg-white dark:bg-slate-800 shadow-card",bordered:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",elevated:"bg-white dark:bg-slate-800 shadow-soft"}[n],a),...i})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("mb-4",a),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,s.cn)("text-lg font-semibold text-slate-900 dark:text-white",a),...n})});o.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-slate-500 dark:text-slate-400",a),...n})}).displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("",a),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("mt-4 flex items-center",a),...n})}).displayName="CardFooter"},1001:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var r=a(1994),n=a(3335);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}},6885:function(e,t,a){"use strict";function r(e,t){let a;try{a=e()}catch(e){return}return{getItem:e=>{var r;let n=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),s=null!=(r=a.getItem(e))?r:null;return s instanceof Promise?s.then(n):n(s)},setItem:(e,r)=>a.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>a.removeItem(e)}}a.d(t,{FL:function(){return r},tJ:function(){return s}});let n=e=>t=>{try{let a=e(t);if(a instanceof Promise)return a;return{then:e=>n(e)(a),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>n(t)(e)}}},s=(e,t)=>(a,s,i)=>{let l,o={storage:r(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},d=!1,c=0,u=new Set,m=new Set,f=o.storage;if(!f)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),a(...e)},s,i);let h=()=>{let e=o.partialize({...s()});return f.setItem(o.name,{state:e,version:o.version})},g=i.setState;i.setState=(e,t)=>(g(e,t),h());let p=e((...e)=>(a(...e),h()),s,i);i.getInitialState=()=>p;let x=()=>{var e,t;if(!f)return;let r=++c;d=!1,u.forEach(e=>{var t;return e(null!=(t=s())?t:p)});let i=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=s())?e:p))||void 0;return n(f.getItem.bind(f))(o.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(r!==c)return;let[n,i]=e;if(a(l=o.merge(i,null!=(t=s())?t:p),!0),n)return h()}).then(()=>{r===c&&(null==i||i(l,void 0),l=s(),d=!0,m.forEach(e=>e(l)))}).catch(e=>{r===c&&(null==i||i(void 0,e))})};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(f=e.storage)},clearStorage:()=>{null==f||f.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>d,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(m.add(e),()=>{m.delete(e)})},o.skipHydration||x(),l||p}},3011:function(e,t,a){"use strict";a.d(t,{U:function(){return o}});var r=a(2265);let n=e=>{let t;let a=new Set,r=(e,r)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=r?r:"object"!=typeof n||null===n)?n:Object.assign({},t,n),a.forEach(a=>a(t,e))}},n=()=>t,s={setState:r,getState:n,getInitialState:()=>i,subscribe:e=>(a.add(e),()=>a.delete(e))},i=t=e(r,n,s);return s},s=e=>e?n(e):n,i=e=>e,l=e=>{let t=s(e),a=e=>(function(e,t=i){let a=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(a),a})(t,e);return Object.assign(a,t),a},o=e=>e?l(e):l}},function(e){e.O(0,[697,971,117,744],function(){return e(e.s=7506)}),_N_E=e.O()}]);