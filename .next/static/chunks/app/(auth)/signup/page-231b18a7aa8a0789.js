(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{2789:function(e,a,r){Promise.resolve().then(r.bind(r,1514))},1514:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return N}});var s=r(7437),t=r(2265),l=r(7648),n=r(9376),i=r(9501),o=r(3590),d=r(9547),c=r(2369),m=r(9345),u=r(6337),p=r(5787),x=r(3774),h=r(3041),g=r(2381),f=r(279),b=r(8245),y=r(6154),w=r(4563),v=r(1001);let j=[{value:"cocoa",label:"Cocoa"},{value:"cassava",label:"Cassava"},{value:"maize",label:"Maize"},{value:"plantain",label:"Plantain"},{value:"rice",label:"Rice"},{value:"tomato",label:"Tomato"},{value:"pepper",label:"Pepper"},{value:"other",label:"Other"}];function N(){var e,a,r,N,k;let P=(0,n.useRouter)(),{signup:I,isLoading:T,error:Z,clearError:A}=(0,y.t)(),[_,C]=(0,t.useState)(1),{register:S,handleSubmit:z,formState:{errors:L},setValue:E,watch:X,trigger:O}=(0,i.cI)({resolver:(0,o.F)(w.if),defaultValues:{name:"",email:"",password:"",confirmPassword:"",phone:"",farmName:"",location:"",cropTypes:[],agreeToTerms:!1}}),R=X("cropTypes"),F=X("agreeToTerms"),q=e=>{let a=R||[];a.includes(e)?E("cropTypes",a.filter(a=>a!==e),{shouldValidate:!0}):E("cropTypes",[...a,e],{shouldValidate:!0})},D=async()=>{await O(1===_?["name","email","password","confirmPassword"]:["cropTypes"])&&C(_+1)},V=async e=>{A(),await I({name:e.name,email:e.email,password:e.password,phone:e.phone,farmName:e.farmName,location:e.location,cropTypes:e.cropTypes})&&P.push("/")};return(0,s.jsxs)("div",{className:"w-full max-w-sm",children:[(0,s.jsxs)("div",{className:"mb-8 text-center",children:[(0,s.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-primary-500 shadow-lg",children:(0,s.jsx)(d.Z,{className:"h-8 w-8 text-white"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Create Account"}),(0,s.jsx)("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"Join Kuapa to protect your crops"})]}),(0,s.jsx)("div",{className:"mb-6 flex justify-center gap-2",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:(0,v.cn)("h-2 w-8 rounded-full transition-colors",e<=_?"bg-primary-500":"bg-slate-200 dark:bg-slate-700")},e))}),(0,s.jsx)("div",{className:"rounded-2xl bg-white p-6 shadow-soft dark:bg-slate-800",children:(0,s.jsxs)("form",{onSubmit:z(V),className:"space-y-4",children:[Z&&(0,s.jsx)("div",{className:"rounded-lg bg-danger-50 p-3 text-sm text-danger-600 dark:bg-danger-900/20 dark:text-danger-400",children:Z}),1===_&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.I,{label:"Full Name",placeholder:"Enter your full name",leftIcon:(0,s.jsx)(c.Z,{className:"h-5 w-5"}),error:null===(e=L.name)||void 0===e?void 0:e.message,...S("name")}),(0,s.jsx)(f.I,{label:"Email",type:"email",placeholder:"Enter your email",leftIcon:(0,s.jsx)(m.Z,{className:"h-5 w-5"}),error:null===(a=L.email)||void 0===a?void 0:a.message,...S("email")}),(0,s.jsx)(f.I,{label:"Password",type:"password",placeholder:"Create a password",leftIcon:(0,s.jsx)(u.Z,{className:"h-5 w-5"}),error:null===(r=L.password)||void 0===r?void 0:r.message,hint:"At least 8 characters with uppercase, lowercase, and number",...S("password")}),(0,s.jsx)(f.I,{label:"Confirm Password",type:"password",placeholder:"Confirm your password",leftIcon:(0,s.jsx)(u.Z,{className:"h-5 w-5"}),error:null===(N=L.confirmPassword)||void 0===N?void 0:N.message,...S("confirmPassword")}),(0,s.jsx)(g.z,{type:"button",className:"w-full",size:"lg",onClick:D,children:"Continue"})]}),2===_&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-2 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"What crops do you grow? *"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:j.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>q(e.value),className:(0,v.cn)("flex items-center justify-center rounded-lg border-2 px-3 py-2.5 text-sm font-medium transition-colors",(null==R?void 0:R.includes(e.value))?"border-primary-500 bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"border-slate-200 text-slate-600 hover:border-slate-300 dark:border-slate-600 dark:text-slate-400 dark:hover:border-slate-500"),children:e.label},e.value))}),L.cropTypes&&(0,s.jsx)("p",{className:"mt-1.5 text-sm text-danger-500",children:L.cropTypes.message})]}),(0,s.jsx)(f.I,{label:"Farm Name (Optional)",placeholder:"Enter your farm name",leftIcon:(0,s.jsx)(p.Z,{className:"h-5 w-5"}),...S("farmName")}),(0,s.jsx)(f.I,{label:"Location (Optional)",placeholder:"e.g., Ashanti Region, Ghana",leftIcon:(0,s.jsx)(x.Z,{className:"h-5 w-5"}),...S("location")}),(0,s.jsx)(f.I,{label:"Phone Number (Optional)",type:"tel",placeholder:"+233 XX XXX XXXX",leftIcon:(0,s.jsx)(h.Z,{className:"h-5 w-5"}),...S("phone")}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(g.z,{type:"button",variant:"secondary",className:"flex-1",size:"lg",onClick:()=>C(1),children:"Back"}),(0,s.jsx)(g.z,{type:"button",className:"flex-1",size:"lg",onClick:D,children:"Continue"})]})]}),3===_&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"rounded-lg bg-slate-50 p-4 dark:bg-slate-700/50",children:[(0,s.jsx)("h3",{className:"mb-2 font-medium text-slate-900 dark:text-white",children:"Almost done!"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Please review and accept our terms to complete your registration."})]}),(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsx)(b.X,{checked:!!F,onChange:e=>E("agreeToTerms",e,{shouldValidate:!0}),label:(0,s.jsxs)("span",{children:["I agree to the"," ",(0,s.jsx)(l.default,{href:"/terms",className:"text-primary-600 hover:underline dark:text-primary-400",children:"Terms of Service"})," ","and"," ",(0,s.jsx)(l.default,{href:"/privacy",className:"text-primary-600 hover:underline dark:text-primary-400",children:"Privacy Policy"})]}),error:null===(k=L.agreeToTerms)||void 0===k?void 0:k.message})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(g.z,{type:"button",variant:"secondary",className:"flex-1",size:"lg",onClick:()=>C(2),children:"Back"}),(0,s.jsx)(g.z,{type:"submit",className:"flex-1",size:"lg",isLoading:T,children:"Create Account"})]})]})]})}),(0,s.jsxs)("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Already have an account?"," ",(0,s.jsx)(l.default,{href:"/login",className:"font-semibold text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Sign in"})]})]})}},2381:function(e,a,r){"use strict";r.d(a,{z:function(){return i}});var s=r(7437),t=r(2265),l=r(1817),n=r(1001);let i=t.forwardRef((e,a)=>{let{className:r,variant:t="primary",size:i="md",isLoading:o=!1,leftIcon:d,rightIcon:c,children:m,disabled:u,...p}=e;return(0,s.jsxs)("button",{ref:a,className:(0,n.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed","min-w-[44px]",{primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 active:bg-primary-700",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200 focus:ring-slate-500 active:bg-slate-300 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700",outline:"border-2 border-primary-500 text-primary-600 hover:bg-primary-50 focus:ring-primary-500 dark:text-primary-400 dark:hover:bg-primary-950 bg-transparent",ghost:"text-slate-600 hover:bg-slate-100 focus:ring-slate-500 dark:text-slate-400 dark:hover:bg-slate-800 bg-transparent",danger:"bg-danger-500 text-white hover:bg-danger-600 focus:ring-danger-500"}[t],{sm:"px-3 py-2 text-sm min-h-[36px]",md:"px-4 py-2.5 text-base min-h-[44px]",lg:"px-6 py-3 text-lg min-h-[52px]"}[i],r),disabled:u||o,...p,children:[o?(0,s.jsx)(l.Z,{className:"mr-2 h-4 w-4 animate-spin"}):d?(0,s.jsx)("span",{className:"mr-2",children:d}):null,m,c&&!o&&(0,s.jsx)("span",{className:"ml-2",children:c})]})});i.displayName="Button"},8245:function(e,a,r){"use strict";r.d(a,{X:function(){return i}});var s=r(7437),t=r(2265),l=r(401),n=r(1001);let i=t.forwardRef((e,a)=>{let{className:r,label:i,description:o,error:d,onChange:c,checked:m,id:u,...p}=e,x=t.useId(),h=u||x;return(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:h,ref:a,checked:m,onChange:e=>{null==c||c(e.target.checked)},className:"peer sr-only",...p}),(0,s.jsx)("div",{className:(0,n.cn)("flex h-5 w-5 shrink-0 items-center justify-center rounded border-2 transition-colors","peer-focus:ring-2 peer-focus:ring-primary-500/20 peer-focus:ring-offset-2",m?"border-primary-500 bg-primary-500":"border-slate-300 bg-white dark:border-slate-600 dark:bg-slate-800",d&&"border-danger-500",r),children:m&&(0,s.jsx)(l.Z,{className:"h-3 w-3 text-white",strokeWidth:3})})]}),(i||o)&&(0,s.jsxs)("div",{className:"ml-3",children:[i&&(0,s.jsx)("label",{htmlFor:h,className:"text-sm font-medium text-slate-700 dark:text-slate-300 cursor-pointer",children:i}),o&&(0,s.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:o}),d&&(0,s.jsx)("p",{className:"mt-1 text-sm text-danger-500",children:d})]})]})});i.displayName="Checkbox"},279:function(e,a,r){"use strict";r.d(a,{I:function(){return o}});var s=r(7437),t=r(2265),l=r(1001),n=r(7769),i=r(2208);let o=t.forwardRef((e,a)=>{let{className:r,type:o,label:d,error:c,hint:m,leftIcon:u,rightIcon:p,id:x,...h}=e,[g,f]=t.useState(!1),b=t.useId(),y=x||b,w="password"===o,v=w&&g?"text":o;return(0,s.jsxs)("div",{className:"w-full",children:[d&&(0,s.jsx)("label",{htmlFor:y,className:"mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300",children:d}),(0,s.jsxs)("div",{className:"relative",children:[u&&(0,s.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:u}),(0,s.jsx)("input",{type:v,id:y,ref:a,className:(0,l.cn)("w-full rounded-lg border bg-white px-4 py-3 text-base transition-colors","focus:outline-none focus:ring-2","dark:bg-slate-800 dark:text-white","placeholder:text-slate-400 dark:placeholder:text-slate-500",u&&"pl-10",(p||w)&&"pr-10",c?"border-danger-500 focus:border-danger-500 focus:ring-danger-500/20":"border-slate-300 focus:border-primary-500 focus:ring-primary-500/20 dark:border-slate-600 dark:focus:border-primary-500",r),...h}),w&&(0,s.jsx)("button",{type:"button",onClick:()=>f(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",tabIndex:-1,children:g?(0,s.jsx)(n.Z,{className:"h-5 w-5"}):(0,s.jsx)(i.Z,{className:"h-5 w-5"})}),p&&!w&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:p})]}),c&&(0,s.jsx)("p",{className:"mt-1.5 text-sm text-danger-500",children:c}),m&&!c&&(0,s.jsx)("p",{className:"mt-1.5 text-sm text-slate-500 dark:text-slate-400",children:m})]})});o.displayName="Input"},1001:function(e,a,r){"use strict";r.d(a,{cn:function(){return l}});var s=r(1994),t=r(3335);function l(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,t.m6)((0,s.W)(a))}},4563:function(e,a,r){"use strict";r.d(a,{S4:function(){return n},dm:function(){return t},if:function(){return l}});var s=r(5897);let t=s.Ryn({email:s.Z_8().min(1,"Email is required").email("Please enter a valid email address"),password:s.Z_8().min(1,"Password is required").min(6,"Password must be at least 6 characters"),rememberMe:s.O72().optional()}),l=s.Ryn({name:s.Z_8().min(1,"Full name is required").min(2,"Name must be at least 2 characters"),email:s.Z_8().min(1,"Email is required").email("Please enter a valid email address"),password:s.Z_8().min(1,"Password is required").min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:s.Z_8().min(1,"Please confirm your password"),phone:s.Z_8().optional(),farmName:s.Z_8().optional(),location:s.Z_8().optional(),cropTypes:s.IXX(s.Z_8()).min(1,"Please select at least one crop type"),agreeToTerms:s.i0J(!0,{errorMap:()=>({message:"You must agree to the terms and conditions"})})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),n=s.Ryn({email:s.Z_8().min(1,"Email is required").email("Please enter a valid email address")});s.Ryn({password:s.Z_8().min(1,"Password is required").min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:s.Z_8().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]})},6154:function(e,a,r){"use strict";r.d(a,{t:function(){return n}});var s=r(3011),t=r(6885);let l=(e,a)=>({id:"user_".concat(Date.now()),email:e,name:a,phone:"",avatar:"",farmName:"",location:"Ashanti Region, Ghana",cropTypes:["cocoa","cassava"],preferredLanguage:"en",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),n=(0,s.U)()((0,t.tJ)((e,a)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(a,r)=>(e({isLoading:!0,error:null}),await new Promise(e=>setTimeout(e,1e3)),a&&r)?r.length<6?(e({isLoading:!1,error:"Invalid credentials"}),!1):(e({user:l(a,a.split("@")[0]),isAuthenticated:!0,isLoading:!1,error:null}),!0):(e({isLoading:!1,error:"Email and password are required"}),!1),signup:async a=>(e({isLoading:!0,error:null}),await new Promise(e=>setTimeout(e,1500)),a.email&&a.password&&a.name)?a.password.length<8?(e({isLoading:!1,error:"Password must be at least 8 characters"}),!1):(e({user:{id:"user_".concat(Date.now()),email:a.email,name:a.name,phone:a.phone||"",farmName:a.farmName||"",location:a.location||"",cropTypes:a.cropTypes,preferredLanguage:"en",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},isAuthenticated:!0,isLoading:!1,error:null}),!0):(e({isLoading:!1,error:"Please fill in all required fields"}),!1),logout:()=>{e({user:null,isAuthenticated:!1,error:null})},updateUser:r=>{let{user:s}=a();s&&e({user:{...s,...r,updatedAt:new Date().toISOString()}})},setError:a=>{e({error:a})},clearError:()=>{e({error:null})},checkAuth:()=>{let{user:r}=a();e({isAuthenticated:!!r})}}),{name:"kuapa-auth",storage:(0,t.FL)(()=>localStorage),partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}))}},function(e){e.O(0,[697,648,560,842,971,117,744],function(){return e(e.s=2789)}),_N_E=e.O()}]);