(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{1353:function(e,t,r){Promise.resolve().then(r.bind(r,4995))},401:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(8755).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6337:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(8755).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},4995:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var a=r(7437),s=r(2265),n=r(7648),i=r(9376),l=r(9501),o=r(3590),d=r(9547),c=r(9345),u=r(6337),m=r(2381),h=r(279),p=r(8245),f=r(6154),x=r(4563);function g(){var e,t;let r=(0,i.useRouter)(),{login:g,isLoading:b,error:w,clearError:v}=(0,f.t)(),[y,j]=(0,s.useState)(!1),{register:N,handleSubmit:k,formState:{errors:P},setValue:S,watch:I}=(0,l.cI)({resolver:(0,o.F)(x.dm),defaultValues:{email:"",password:"",rememberMe:!1}}),Z=I("rememberMe"),_=async e=>{v(),await g(e.email,e.password)&&r.push("/")},C=async()=>{j(!0),await new Promise(e=>setTimeout(e,1500)),j(!1),r.push("/")};return(0,a.jsxs)("div",{className:"w-full max-w-sm",children:[(0,a.jsxs)("div",{className:"mb-8 text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-primary-500 shadow-lg",children:(0,a.jsx)(d.Z,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Welcome back"}),(0,a.jsx)("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"Sign in to continue to Kuapa"})]}),(0,a.jsxs)("div",{className:"rounded-2xl bg-white p-6 shadow-soft dark:bg-slate-800",children:[(0,a.jsxs)("form",{onSubmit:k(_),className:"space-y-4",children:[w&&(0,a.jsx)("div",{className:"rounded-lg bg-danger-50 p-3 text-sm text-danger-600 dark:bg-danger-900/20 dark:text-danger-400",children:w}),(0,a.jsx)(h.I,{label:"Email",type:"email",placeholder:"Enter your email",leftIcon:(0,a.jsx)(c.Z,{className:"h-5 w-5"}),error:null===(e=P.email)||void 0===e?void 0:e.message,...N("email")}),(0,a.jsx)(h.I,{label:"Password",type:"password",placeholder:"Enter your password",leftIcon:(0,a.jsx)(u.Z,{className:"h-5 w-5"}),error:null===(t=P.password)||void 0===t?void 0:t.message,...N("password")}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(p.X,{label:"Remember me",checked:Z,onChange:e=>S("rememberMe",e)}),(0,a.jsx)(n.default,{href:"/reset-password",className:"text-sm font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Forgot password?"})]}),(0,a.jsx)(m.z,{type:"submit",className:"w-full",size:"lg",isLoading:b,children:"Sign In"})]}),(0,a.jsxs)("div",{className:"relative my-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"bg-white px-4 text-slate-500 dark:bg-slate-800 dark:text-slate-400",children:"Or continue with"})})]}),(0,a.jsx)(m.z,{type:"button",variant:"secondary",className:"w-full",size:"lg",onClick:C,isLoading:y,leftIcon:(0,a.jsxs)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"Continue with Google"}),(0,a.jsxs)("div",{className:"mt-4 rounded-lg bg-slate-50 p-3 text-center text-sm text-slate-600 dark:bg-slate-700/50 dark:text-slate-400",children:[(0,a.jsx)("p",{className:"font-medium",children:"Demo Credentials"}),(0,a.jsx)("p",{children:"Email: demo@kuapa.com"}),(0,a.jsx)("p",{children:"Password: demo1234"})]})]}),(0,a.jsxs)("p",{className:"mt-6 text-center text-sm text-slate-600 dark:text-slate-400",children:["Don't have an account?"," ",(0,a.jsx)(n.default,{href:"/signup",className:"font-semibold text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Sign up for free"})]})]})}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var a=r(7437),s=r(2265),n=r(1817),i=r(1001);let l=s.forwardRef((e,t)=>{let{className:r,variant:s="primary",size:l="md",isLoading:o=!1,leftIcon:d,rightIcon:c,children:u,disabled:m,...h}=e;return(0,a.jsxs)("button",{ref:t,className:(0,i.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed","min-w-[44px]",{primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 active:bg-primary-700",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200 focus:ring-slate-500 active:bg-slate-300 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700",outline:"border-2 border-primary-500 text-primary-600 hover:bg-primary-50 focus:ring-primary-500 dark:text-primary-400 dark:hover:bg-primary-950 bg-transparent",ghost:"text-slate-600 hover:bg-slate-100 focus:ring-slate-500 dark:text-slate-400 dark:hover:bg-slate-800 bg-transparent",danger:"bg-danger-500 text-white hover:bg-danger-600 focus:ring-danger-500"}[s],{sm:"px-3 py-2 text-sm min-h-[36px]",md:"px-4 py-2.5 text-base min-h-[44px]",lg:"px-6 py-3 text-lg min-h-[52px]"}[l],r),disabled:m||o,...h,children:[o?(0,a.jsx)(n.Z,{className:"mr-2 h-4 w-4 animate-spin"}):d?(0,a.jsx)("span",{className:"mr-2",children:d}):null,u,c&&!o&&(0,a.jsx)("span",{className:"ml-2",children:c})]})});l.displayName="Button"},8245:function(e,t,r){"use strict";r.d(t,{X:function(){return l}});var a=r(7437),s=r(2265),n=r(401),i=r(1001);let l=s.forwardRef((e,t)=>{let{className:r,label:l,description:o,error:d,onChange:c,checked:u,id:m,...h}=e,p=s.useId(),f=m||p;return(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:f,ref:t,checked:u,onChange:e=>{null==c||c(e.target.checked)},className:"peer sr-only",...h}),(0,a.jsx)("div",{className:(0,i.cn)("flex h-5 w-5 shrink-0 items-center justify-center rounded border-2 transition-colors","peer-focus:ring-2 peer-focus:ring-primary-500/20 peer-focus:ring-offset-2",u?"border-primary-500 bg-primary-500":"border-slate-300 bg-white dark:border-slate-600 dark:bg-slate-800",d&&"border-danger-500",r),children:u&&(0,a.jsx)(n.Z,{className:"h-3 w-3 text-white",strokeWidth:3})})]}),(l||o)&&(0,a.jsxs)("div",{className:"ml-3",children:[l&&(0,a.jsx)("label",{htmlFor:f,className:"text-sm font-medium text-slate-700 dark:text-slate-300 cursor-pointer",children:l}),o&&(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:o}),d&&(0,a.jsx)("p",{className:"mt-1 text-sm text-danger-500",children:d})]})]})});l.displayName="Checkbox"},279:function(e,t,r){"use strict";r.d(t,{I:function(){return o}});var a=r(7437),s=r(2265),n=r(1001),i=r(7769),l=r(2208);let o=s.forwardRef((e,t)=>{let{className:r,type:o,label:d,error:c,hint:u,leftIcon:m,rightIcon:h,id:p,...f}=e,[x,g]=s.useState(!1),b=s.useId(),w=p||b,v="password"===o,y=v&&x?"text":o;return(0,a.jsxs)("div",{className:"w-full",children:[d&&(0,a.jsx)("label",{htmlFor:w,className:"mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300",children:d}),(0,a.jsxs)("div",{className:"relative",children:[m&&(0,a.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:m}),(0,a.jsx)("input",{type:y,id:w,ref:t,className:(0,n.cn)("w-full rounded-lg border bg-white px-4 py-3 text-base transition-colors","focus:outline-none focus:ring-2","dark:bg-slate-800 dark:text-white","placeholder:text-slate-400 dark:placeholder:text-slate-500",m&&"pl-10",(h||v)&&"pr-10",c?"border-danger-500 focus:border-danger-500 focus:ring-danger-500/20":"border-slate-300 focus:border-primary-500 focus:ring-primary-500/20 dark:border-slate-600 dark:focus:border-primary-500",r),...f}),v&&(0,a.jsx)("button",{type:"button",onClick:()=>g(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",tabIndex:-1,children:x?(0,a.jsx)(i.Z,{className:"h-5 w-5"}):(0,a.jsx)(l.Z,{className:"h-5 w-5"})}),h&&!v&&(0,a.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:h})]}),c&&(0,a.jsx)("p",{className:"mt-1.5 text-sm text-danger-500",children:c}),u&&!c&&(0,a.jsx)("p",{className:"mt-1.5 text-sm text-slate-500 dark:text-slate-400",children:u})]})});o.displayName="Input"},1001:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},4563:function(e,t,r){"use strict";r.d(t,{S4:function(){return i},dm:function(){return s},if:function(){return n}});var a=r(5897);let s=a.Ryn({email:a.Z_8().min(1,"Email is required").email("Please enter a valid email address"),password:a.Z_8().min(1,"Password is required").min(6,"Password must be at least 6 characters"),rememberMe:a.O72().optional()}),n=a.Ryn({name:a.Z_8().min(1,"Full name is required").min(2,"Name must be at least 2 characters"),email:a.Z_8().min(1,"Email is required").email("Please enter a valid email address"),password:a.Z_8().min(1,"Password is required").min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:a.Z_8().min(1,"Please confirm your password"),phone:a.Z_8().optional(),farmName:a.Z_8().optional(),location:a.Z_8().optional(),cropTypes:a.IXX(a.Z_8()).min(1,"Please select at least one crop type"),agreeToTerms:a.i0J(!0,{errorMap:()=>({message:"You must agree to the terms and conditions"})})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),i=a.Ryn({email:a.Z_8().min(1,"Email is required").email("Please enter a valid email address")});a.Ryn({password:a.Z_8().min(1,"Password is required").min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:a.Z_8().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]})},6154:function(e,t,r){"use strict";r.d(t,{t:function(){return i}});var a=r(3011),s=r(6885);let n=(e,t)=>({id:"user_".concat(Date.now()),email:e,name:t,phone:"",avatar:"",farmName:"",location:"Ashanti Region, Ghana",cropTypes:["cocoa","cassava"],preferredLanguage:"en",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),i=(0,a.U)()((0,s.tJ)((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(t,r)=>(e({isLoading:!0,error:null}),await new Promise(e=>setTimeout(e,1e3)),t&&r)?r.length<6?(e({isLoading:!1,error:"Invalid credentials"}),!1):(e({user:n(t,t.split("@")[0]),isAuthenticated:!0,isLoading:!1,error:null}),!0):(e({isLoading:!1,error:"Email and password are required"}),!1),signup:async t=>(e({isLoading:!0,error:null}),await new Promise(e=>setTimeout(e,1500)),t.email&&t.password&&t.name)?t.password.length<8?(e({isLoading:!1,error:"Password must be at least 8 characters"}),!1):(e({user:{id:"user_".concat(Date.now()),email:t.email,name:t.name,phone:t.phone||"",farmName:t.farmName||"",location:t.location||"",cropTypes:t.cropTypes,preferredLanguage:"en",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},isAuthenticated:!0,isLoading:!1,error:null}),!0):(e({isLoading:!1,error:"Please fill in all required fields"}),!1),logout:()=>{e({user:null,isAuthenticated:!1,error:null})},updateUser:r=>{let{user:a}=t();a&&e({user:{...a,...r,updatedAt:new Date().toISOString()}})},setError:t=>{e({error:t})},clearError:()=>{e({error:null})},checkAuth:()=>{let{user:r}=t();e({isAuthenticated:!!r})}}),{name:"kuapa-auth",storage:(0,s.FL)(()=>localStorage),partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}))},6885:function(e,t,r){"use strict";function a(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var a;let s=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),n=null!=(a=r.getItem(e))?a:null;return n instanceof Promise?n.then(s):s(n)},setItem:(e,a)=>r.setItem(e,JSON.stringify(a,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}r.d(t,{FL:function(){return a},tJ:function(){return n}});let s=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>s(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>s(t)(e)}}},n=(e,t)=>(r,n,i)=>{let l,o={storage:a(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},d=!1,c=0,u=new Set,m=new Set,h=o.storage;if(!h)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)},n,i);let p=()=>{let e=o.partialize({...n()});return h.setItem(o.name,{state:e,version:o.version})},f=i.setState;i.setState=(e,t)=>(f(e,t),p());let x=e((...e)=>(r(...e),p()),n,i);i.getInitialState=()=>x;let g=()=>{var e,t;if(!h)return;let a=++c;d=!1,u.forEach(e=>{var t;return e(null!=(t=n())?t:x)});let i=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=n())?e:x))||void 0;return s(h.getItem.bind(h))(o.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(a!==c)return;let[s,i]=e;if(r(l=o.merge(i,null!=(t=n())?t:x),!0),s)return p()}).then(()=>{a===c&&(null==i||i(l,void 0),l=n(),d=!0,m.forEach(e=>e(l)))}).catch(e=>{a===c&&(null==i||i(void 0,e))})};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(h=e.storage)},clearStorage:()=>{null==h||h.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>d,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(m.add(e),()=>{m.delete(e)})},o.skipHydration||g(),l||x}},3011:function(e,t,r){"use strict";r.d(t,{U:function(){return o}});var a=r(2265);let s=e=>{let t;let r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,n={setState:a,getState:s,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(a,s,n);return n},n=e=>e?s(e):s,i=e=>e,l=e=>{let t=n(e),r=e=>(function(e,t=i){let r=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},o=e=>e?l(e):l}},function(e){e.O(0,[697,648,560,971,117,744],function(){return e(e.s=1353)}),_N_E=e.O()}]);