(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3220:function(e,t,a){Promise.resolve().then(a.bind(a,7555))},1769:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},3581:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},407:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},1671:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5621:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},9547:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]])},6865:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7555:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var r=a(7437),s=a(9376),n=a(3581),i=a(8755);let l=(0,i.Z)("scan-line",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);var c=a(1671),o=a(6865);let d=(0,i.Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var u=a(5621),h=a(1769),m=a(9547),p=a(2381),x=a(1001);function g(e){let{title:t,value:a,icon:s,trend:n,className:i,iconClassName:l}=e;return(0,r.jsx)("div",{className:(0,x.cn)("rounded-xl bg-white p-4 shadow-card dark:bg-slate-800",i),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),(0,r.jsx)("p",{className:"mt-1 text-2xl font-bold text-slate-900 dark:text-white",children:a}),n&&(0,r.jsxs)("p",{className:(0,x.cn)("mt-1 text-xs font-medium",n.isPositive?"text-success-500":"text-danger-500"),children:[n.isPositive?"+":"-",Math.abs(n.value),"% from last month"]})]}),(0,r.jsx)("div",{className:(0,x.cn)("flex h-10 w-10 items-center justify-center rounded-lg",l||"bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400"),children:(0,r.jsx)(s,{className:"h-5 w-5"})})]})})}function f(e){let{title:t,description:a,icon:s,onClick:n,className:i}=e;return(0,r.jsxs)("button",{onClick:n,className:(0,x.cn)("flex w-full items-center gap-4 rounded-xl bg-white p-4 text-left shadow-card transition-all","hover:shadow-soft active:scale-[0.98]","dark:bg-slate-800",i),children:[(0,r.jsx)("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400",children:(0,r.jsx)(s,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-slate-900 dark:text-white",children:t}),(0,r.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:a})]})]})}var y=a(7648),v=a(407),b=a(9174);function k(e){let{scans:t,className:a}=e;return 0===t.length?(0,r.jsxs)("div",{className:(0,x.cn)("rounded-xl bg-white p-6 text-center shadow-card dark:bg-slate-800",a),children:[(0,r.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700",children:(0,r.jsx)(m.Z,{className:"h-6 w-6 text-slate-400"})}),(0,r.jsx)("p",{className:"mt-3 font-medium text-slate-900 dark:text-white",children:"No scans yet"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Start by scanning a crop to detect diseases"}),(0,r.jsxs)(y.default,{href:"/scan",className:"mt-4 inline-flex items-center gap-1 text-sm font-semibold text-primary-600 hover:text-primary-700 dark:text-primary-400",children:["Scan your first crop",(0,r.jsx)(v.Z,{className:"h-4 w-4"})]})]}):(0,r.jsxs)("div",{className:(0,x.cn)("rounded-xl bg-white shadow-card dark:bg-slate-800",a),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-100 p-4 dark:border-slate-700",children:[(0,r.jsx)("h2",{className:"font-semibold text-slate-900 dark:text-white",children:"Recent Scans"}),(0,r.jsx)(y.default,{href:"/history",className:"text-sm font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"View all"})]}),(0,r.jsx)("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:t.slice(0,5).map(e=>(0,r.jsx)(w,{scan:e},e.id))})]})}function w(e){var t;let{scan:a}=e,s=new Date(a.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return(0,r.jsxs)(y.default,{href:"/scan/".concat(a.id),className:"flex items-center gap-4 p-4 transition-colors hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[(0,r.jsxs)("div",{className:"relative h-14 w-14 shrink-0 overflow-hidden rounded-lg bg-slate-100 dark:bg-slate-700",children:[a.thumbnailUrl?(0,r.jsx)("img",{src:a.thumbnailUrl,alt:"Scan thumbnail",className:"h-full w-full object-cover"}):(0,r.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,r.jsx)(m.Z,{className:"h-6 w-6 text-slate-400"})}),(0,r.jsx)("div",{className:(0,x.cn)("absolute bottom-1 right-1 h-3 w-3 rounded-full border-2 border-white dark:border-slate-800",a.isHealthy?"bg-success-500":"bg-danger-500")})]}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"truncate font-medium text-slate-900 dark:text-white",children:a.isHealthy?"Healthy":(null===(t=a.detectedDisease)||void 0===t?void 0:t.name)||"Disease Detected"}),!a.isHealthy&&(0,r.jsx)(o.Z,{className:"h-4 w-4 shrink-0 text-warning-500"})]}),(0,r.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,r.jsx)(b.as,{cropType:a.cropType}),(0,r.jsx)("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:s})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:[a.confidence,"%"]}),(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"confidence"})]}),(0,r.jsx)(v.Z,{className:"h-5 w-5 shrink-0 text-slate-400"})]})}var j=a(6154),N=a(5598);function S(){var e;let t=(0,s.useRouter)(),{user:a,isAuthenticated:i}=(0,j.t)(),{history:x}=(0,N.rG)(),y=x.length,v=x.filter(e=>e.isHealthy).length,b=y>0?Math.round(v/y*100):0,w=(null==a?void 0:null===(e=a.name)||void 0===e?void 0:e.split(" ")[0])||"Farmer";return(0,r.jsxs)("div",{className:"page-content space-y-6",children:[(0,r.jsxs)("section",{className:"rounded-2xl bg-gradient-to-br from-primary-500 to-primary-600 p-6 text-white",children:[(0,r.jsx)("p",{className:"text-primary-100",children:(()=>{let e=new Date().getHours();return e<12?"Good morning":e<17?"Good afternoon":"Good evening"})()}),(0,r.jsx)("h1",{className:"mt-1 text-2xl font-bold",children:w}),(0,r.jsx)("p",{className:"mt-2 text-primary-100",children:0===y?"Ready to scan your first crop?":"You've scanned ".concat(y," crop").concat(1!==y?"s":""," so far")}),(0,r.jsx)(p.z,{onClick:()=>t.push("/scan"),className:"mt-4 bg-white text-primary-600 hover:bg-primary-50",size:"lg",leftIcon:(0,r.jsx)(n.Z,{className:"h-5 w-5"}),children:"Scan Crop Now"})]}),(0,r.jsxs)("section",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)(g,{title:"Total Scans",value:y,icon:l,iconClassName:"bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400"}),(0,r.jsx)(g,{title:"Healthy",value:v,icon:c.Z,iconClassName:"bg-success-100 text-success-600 dark:bg-success-900/30 dark:text-success-400"}),(0,r.jsx)(g,{title:"Diseased",value:y-v,icon:o.Z,iconClassName:"bg-danger-100 text-danger-600 dark:bg-danger-900/30 dark:text-danger-400"}),(0,r.jsx)(g,{title:"Health Rate",value:"".concat(b,"%"),icon:d,iconClassName:"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:"mb-3 font-semibold text-slate-900 dark:text-white",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(f,{title:"Scan History",description:"View all your previous scans",icon:u.Z,onClick:()=>t.push("/history")}),(0,r.jsx)(f,{title:"Disease Library",description:"Learn about crop diseases",icon:h.Z,onClick:()=>t.push("/diseases")})]})]}),(0,r.jsx)("section",{children:(0,r.jsx)(k,{scans:x})}),(0,r.jsx)("section",{className:"rounded-xl border border-primary-200 bg-primary-50 p-4 dark:border-primary-800 dark:bg-primary-900/20",children:(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary-100 dark:bg-primary-800/50",children:(0,r.jsx)(m.Z,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-primary-900 dark:text-primary-100",children:"Scanning Tips"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-primary-700 dark:text-primary-300",children:"For best results, take photos in natural daylight and focus on the affected area of the plant. Close-up shots work best for disease detection."})]})]})}),!i&&(0,r.jsxs)("section",{className:"rounded-xl bg-white p-6 shadow-card dark:bg-slate-800",children:[(0,r.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Save Your Scans"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Create an account to save your scan history and access it from any device."}),(0,r.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,r.jsx)(p.z,{variant:"primary",size:"sm",onClick:()=>t.push("/signup"),children:"Sign Up"}),(0,r.jsx)(p.z,{variant:"outline",size:"sm",onClick:()=>t.push("/login"),children:"Log In"})]})]})]})}},9174:function(e,t,a){"use strict";a.d(t,{$M:function(){return i},Ct:function(){return n},as:function(){return l}});var r=a(7437);a(2265);var s=a(1001);function n(e){let{className:t,variant:a="default",size:n="md",...i}=e;return(0,r.jsx)("span",{className:(0,s.cn)("inline-flex items-center rounded-full font-medium",{default:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",success:"bg-success-100 text-success-700 dark:bg-success-900/30 dark:text-success-400",warning:"bg-warning-100 text-warning-700 dark:bg-warning-900/30 dark:text-warning-400",danger:"bg-danger-100 text-danger-700 dark:bg-danger-900/30 dark:text-danger-400",info:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}[a],{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm"}[n],t),...i})}function i(e){let{severity:t,className:a}=e,{variant:s,label:i}={low:{variant:"success",label:"Low"},medium:{variant:"warning",label:"Medium"},high:{variant:"danger",label:"High"},critical:{variant:"danger",label:"Critical"}}[t];return(0,r.jsxs)(n,{variant:s,className:a,children:[i," Severity"]})}function l(e){let{cropType:t,className:a}=e;return(0,r.jsx)(n,{variant:"default",className:(0,s.cn)("capitalize",a),children:t})}},6154:function(e,t,a){"use strict";a.d(t,{t:function(){return i}});var r=a(3011),s=a(6885);let n=(e,t)=>({id:"user_".concat(Date.now()),email:e,name:t,phone:"",avatar:"",farmName:"",location:"Ashanti Region, Ghana",cropTypes:["cocoa","cassava"],preferredLanguage:"en",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),i=(0,r.U)()((0,s.tJ)((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(t,a)=>(e({isLoading:!0,error:null}),await new Promise(e=>setTimeout(e,1e3)),t&&a)?a.length<6?(e({isLoading:!1,error:"Invalid credentials"}),!1):(e({user:n(t,t.split("@")[0]),isAuthenticated:!0,isLoading:!1,error:null}),!0):(e({isLoading:!1,error:"Email and password are required"}),!1),signup:async t=>(e({isLoading:!0,error:null}),await new Promise(e=>setTimeout(e,1500)),t.email&&t.password&&t.name)?t.password.length<8?(e({isLoading:!1,error:"Password must be at least 8 characters"}),!1):(e({user:{id:"user_".concat(Date.now()),email:t.email,name:t.name,phone:t.phone||"",farmName:t.farmName||"",location:t.location||"",cropTypes:t.cropTypes,preferredLanguage:"en",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},isAuthenticated:!0,isLoading:!1,error:null}),!0):(e({isLoading:!1,error:"Please fill in all required fields"}),!1),logout:()=>{e({user:null,isAuthenticated:!1,error:null})},updateUser:a=>{let{user:r}=t();r&&e({user:{...r,...a,updatedAt:new Date().toISOString()}})},setError:t=>{e({error:t})},clearError:()=>{e({error:null})},checkAuth:()=>{let{user:a}=t();e({isAuthenticated:!!a})}}),{name:"kuapa-auth",storage:(0,s.FL)(()=>localStorage),partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}))},5598:function(e,t,a){"use strict";a.d(t,{rG:function(){return p}});var r=a(3011),s=a(6885),n=a(960);let i="app-state",l=(0,n.X3)("kuapa-db",1,{upgrade(e){e.objectStoreNames.contains(i)||e.createObjectStore(i)}}),c={getItem:async e=>{try{return await (await l).get(i,e)||null}catch(e){return console.error("Error getting item from IndexedDB:",e),null}},setItem:async(e,t)=>{try{await (await l).put(i,t,e)}catch(e){console.error("Error setting item in IndexedDB:",e)}},removeItem:async e=>{try{await (await l).delete(i,e)}catch(e){console.error("Error removing item from IndexedDB:",e)}}};var o=a(8532);let d=async(e,t)=>{await u();let a=(0,o.Ft)(t),r=Math.random()>.3,s=null,n=0,i=[];return!r&&a.length>0?(s=a[Math.floor(Math.random()*a.length)],n=Math.floor(23*Math.random())+75,i=h(s)):(n=Math.floor(15*Math.random())+85,i=m(t)),{id:"scan_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),userId:"current_user",imageUrl:e,thumbnailUrl:e,cropType:t,detectedDisease:s,confidence:n,isHealthy:r,recommendations:i,createdAt:new Date().toISOString()}},u=()=>new Promise(e=>{setTimeout(e,1500+1500*Math.random())}),h=e=>{let t=[];return"critical"===e.severity?t.push("URGENT: Immediate action required to prevent spread"):"high"===e.severity&&t.push("Take action within the next few days"),e.treatment.cultural.length>0&&t.push(e.treatment.cultural[0]),e.treatment.organic.length>0&&t.push(e.treatment.organic[0]),e.prevention.length>0&&t.push("Prevention: ".concat(e.prevention[0])),("critical"===e.severity||"high"===e.severity)&&t.push("Consult with local agricultural extension officer for detailed guidance"),t},m=e=>{let t={cocoa:["Your cocoa plant looks healthy! Continue regular monitoring","Maintain proper pruning to ensure good air circulation","Apply balanced fertilizer during the growing season","Remove any debris around the tree base"],cassava:["Your cassava plant appears healthy! Keep up the good work","Continue weeding to reduce pest habitat","Monitor for whiteflies regularly","Ensure proper spacing for next planting"],maize:["Your maize crop looks healthy! Continue current practices","Monitor for signs of streak virus as plants grow","Apply nitrogen fertilizer at knee-high stage if needed","Scout for stem borers regularly"],plantain:["Your plantain looks healthy! Maintain current care","Continue regular de-suckering practices","Apply mulch around the base","Monitor older leaves for early disease signs"],rice:["Your rice crop appears healthy","Maintain proper water levels","Monitor for blast disease symptoms","Apply fertilizer according to growth stage"],tomato:["Your tomato plant looks healthy","Stake plants for better support","Water at the base to prevent leaf diseases","Remove lower leaves as fruits develop"],pepper:["Your pepper plant appears healthy","Ensure consistent watering","Monitor for aphids and whiteflies","Apply mulch to retain moisture"],other:["Your crop appears healthy","Continue regular monitoring","Maintain good agricultural practices","Consult extension services for specific advice"]};return t[e]||t.other},p=(0,r.U)()((0,s.tJ)((e,t)=>({currentScan:null,history:[],isScanning:!1,error:null,startScan:async(a,r)=>{e({isScanning:!0,error:null,currentScan:null});try{let s=await d(a,r);return e({currentScan:s,isScanning:!1}),t().addScanToHistory(s),s}catch(t){throw e({isScanning:!1,error:t instanceof Error?t.message:"Scan failed"}),t}},addScanToHistory:t=>{e(e=>({history:[t,...e.history].slice(0,100)}))},removeScan:t=>{e(e=>{var a;return{history:e.history.filter(e=>e.id!==t),currentScan:(null===(a=e.currentScan)||void 0===a?void 0:a.id)===t?null:e.currentScan}})},clearHistory:()=>{e({history:[],currentScan:null})},getScanById:e=>{let{history:a}=t();return a.find(t=>t.id===e)},setError:t=>{e({error:t})},clearError:()=>{e({error:null})}}),{name:"kuapa-scans",storage:(0,s.FL)(()=>c),partialize:e=>({history:e.history})}))}},function(e){e.O(0,[697,648,778,882,971,117,744],function(){return e(e.s=3220)}),_N_E=e.O()}]);